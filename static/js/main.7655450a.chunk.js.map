{"version":3,"sources":["src/images/bus.svg","src/components/Card/index.js","src/constants/colors.js","src/constants/icons.js","src/container/Home/departures.js","src/container/Home/stops.js","src/container/Home/search.js","src/constants/strings.js","src/container/Home/index.js","src/reducer/index.js","src/saga/index.js","src/store/index.js","index.js"],"names":["module","exports","StyledDiv","styled","div","Card","props","onClick","children","Colors","primaryColor","black","white","Icon","iconName","fillColor","width","height","xmlns","version","id","x","y","viewBox","d","data-original","className","data-old_color","fill","class","defaultProps","StyledHeader","StyledListContainer","Departures","this","onDepartureCancelled","style","overflow","departures","map","departure","i","key","onDestinationSelected","direction","best_departure_estimate","operator","Component","BusStops","busStops","stop","onStopSelected","label","lat","lng","color","StyledSearchContainer","StyledDropdownContainer","StyledDropdown","StyledH1","h1","StyledInput","input","Search","onInputChange","handleSelect","address","value","onChange","onSelect","getInputProps","suggestions","getSuggestionItemProps","loading","placeholder","suggestion","active","backgroundColor","cursor","description","BASE_URL","defaultOrigin","Home","getNearbyBusStops","urlForRoute","a","getDirections","origin","directionService","state","geocodeByAddress","results","getLatLng","latLang","setState","data","window","google","maps","DirectionsService","zoom","markers","getDepartures","directions","console","log","margin","position","top","center","defaultZoom","options","disableDefaultUI","marker","index","title","animation","length","connect","dispatch","type","payload","setDepartures","withScriptjs","withGoogleMap","initialState","fetchBusStops","fetchDepartures","fetchDirections","mySaga","fetchBusStopsApiCall","axios","get","action","call","result","status","stops","member","location","latitude","longitude","Marker","name","atcocode","selected","icon","push","put","all","lastStop","destination","Promise","resolve","route","travelMode","TravelMode","TRANSIT","transitOptions","modes","TransitMode","BUS","routingPreference","TransitRoutePreference","LESS_WALKING","DirectionsStatus","OK","takeLatest","middleware","createSagaMiddleware","store","createStore","Object","assign","applyMiddleware","run","root","document","getElementById","googleMapURL","loadingElement","containerElement","mapElement","ReactDOM"],"mappings":"qLAAAA,EAAOC,QAAU,IAA0B,iC,saCG3C,IAAMC,EAAYC,IAAOC,IAAV,KAaA,SAASC,EAAKC,GAC3B,OAAO,kBAACJ,EAAD,CAAWK,QAASD,EAAMC,SAAUD,EAAME,UCjBnD,IAMeC,EANA,CACbC,aAAc,UACdC,MAAO,OACPC,MAAO,QCAHC,EAAO,SAAC,GAA0C,IAAzCC,EAAwC,EAAxCA,SAAUC,EAA8B,EAA9BA,UAAWC,EAAmB,EAAnBA,MAAOC,EAAY,EAAZA,OACzC,OAAQH,GACN,IAAK,MACH,OACE,yBACEI,MAAM,6BACNC,QAAQ,MACRC,GAAG,SACHC,EAAE,MACFC,EAAE,MACFC,QAAQ,sBACRP,MAAOA,EACPC,OAAQA,GAER,2BACE,2BACE,2BACE,0BACEO,EAAE,2kBACFC,gBAAc,UACdC,UAAU,cACVC,iBAAe,UACfC,KAAMb,QAOpB,IAAK,QACH,OACE,yBACEG,MAAM,6BACND,OAAQA,EACRM,QAAQ,sBACRP,MAAOA,GAEP,2BACE,0BACEQ,EAAE,8kBACFC,gBAAc,UACdI,MAAM,cACNF,iBAAe,UACfC,KAAMb,KAEL,KAIX,IAAK,SACH,OACE,yBACEG,MAAM,6BACNC,QAAQ,MACRC,GAAG,UACHC,EAAE,MACFC,EAAE,MACFC,QAAQ,cACRP,MAAOA,EACPC,OAAQA,GAER,2BACE,2BACE,2BACE,0BACEO,EAAE,sVACFC,gBAAc,UACdI,MAAM,cACNF,iBAAe,UACfC,KAAMb,OAIT,KAIX,QACE,OACE,yBACEG,MAAM,6BACND,OAAQA,EACRM,QAAQ,sBACRP,MAAOA,GAEP,2BACE,0BACEQ,EAAE,8kBACFC,gBAAc,UACdI,MAAM,cACNF,iBAAe,UACfC,KAAMb,KAEL,OAafF,EAAKiB,aAAe,CAClBhB,SAAU,MACVC,UAAW,UACXC,MAAO,OACPC,OAAQ,QAGKJ,Q,6qBC9Gf,IAAMX,EAAYC,IAAOC,IAAV,KAOT2B,EAAe5B,IAAOC,IAAV,KAsBZ4B,EAAsB7B,IAAOC,IAAV,KAKJ6B,E,uKAOT,IAAD,OACP,OACE,kBAAC,EAAD,KACE,kBAACF,EAAD,KACE,0CACA,4BAAQxB,QAAS2B,KAAK5B,MAAM6B,sBAC1B,kBAAC,EAAD,CAAMrB,SAAU,QAASC,UAAW,OAAQC,MAAM,WAGtD,kBAACgB,EAAD,CAAqBI,MAAO,CAACnB,OAAQ,OAAQoB,SAAU,WACpDH,KAAK5B,MAAMgC,WAAWC,KAAI,SAACC,EAAWC,GACrC,OACE,kBAACpC,EAAD,CACEqC,IAAKD,EACLlC,QAAS,WACP,EAAKD,MAAMqC,sBAAsBH,EAAUpB,MAG7C,2BAAIoB,EAAUI,WACd,+CAAqBJ,EAAUK,yBAC/B,yCAAeL,EAAUM,oB,GA3BDC,a,6hBCpCxC,IAAM7C,EAAYC,IAAOC,IAAV,KAOT2B,EAAe5B,IAAOC,IAAV,KAcZ4B,EAAsB7B,IAAOC,IAAV,KAKJ4C,E,uKAMT,IAAD,OACP,OACE,kBAAC,EAAD,KACE,kBAAC,EAAD,KACE,kDAEF,kBAAC,EAAD,KACGd,KAAK5B,MAAM2C,SAASV,KAAI,SAACW,EAAMT,GAC9B,OACE,kBAACpC,EAAD,CAAMqC,IAAKD,EAAGlC,QAAS,kBAAM,EAAKD,MAAM6C,eAAeD,KACrD,2BAAIA,EAAKE,OACT,oCAAUF,EAAKG,KACf,oCAAUH,EAAKI,e,GAlBOP,a,6yBCxBtC,IAAM7C,EAAYC,IAAOC,IAAV,KAEO,SAAAE,GAAK,OAAIA,EAAMiD,SAK/BC,EAAwBrD,IAAOC,IAAV,KAMrBqD,EAA0BtD,IAAOC,IAAV,KAKvBsD,EAAiBvD,IAAOC,IAAV,KAMduD,EAAWxD,IAAOyD,GAAV,KAIRC,EAAc1D,IAAO2D,MAAV,KAQIC,E,uKAOT,IAAD,EACwC7B,KAAK5B,MAA7C0D,EADA,EACAA,cAAeC,EADf,EACeA,aAAcC,EAD7B,EAC6BA,QAEpC,OACE,kBAAC,EAAD,CAAWX,MAAO9C,EAAOC,cACvB,kBAACiD,EAAD,8BAEA,kBAAC,IAAD,CACEQ,MAAOD,EACPE,SAAUJ,EACVK,SAAUJ,IAET,gBAAEK,EAAF,EAAEA,cAAeC,EAAjB,EAAiBA,YAAaC,EAA9B,EAA8BA,uBAAwBC,EAAtD,EAAsDA,QAAtD,OACC,6BACE,kBAACjB,EAAD,KACE,kBAACK,EACKS,EAAc,CAChBI,YAAa,oBACbhD,UAAW,4BAIjB,kBAAC+B,EAAD,CAAyB/B,UAAU,mCAChC+C,GAAW,2CACXF,EAAYhC,KAAI,SAACoC,EAAYlC,GAC5B,IAAMf,EAAYiD,EAAWC,OACzB,0BACA,kBAEExC,EAAQuC,EAAWC,OACrB,CACEC,gBAAiB,UACjBtB,MAAO9C,EAAOE,MACdmE,OAAQ,WAEV,CACED,gBAAiB,UACjBtB,MAAO9C,EAAOE,MACdmE,OAAQ,WAEd,OACE,kBAACpB,EAAD,eACEhB,IAAKD,GACD+B,EAAuBG,EAAY,CACrCjD,YACAU,WAGF,8BAAOuC,EAAWI,2B,GAvDJhC,aCzCvBiC,EAAW,iC,oMCqBxB,IAAMC,GAAgB,CAAC5B,IAAK,WAAYC,IAAK,OAEvCpD,GAAYC,IAAOC,IAAV,KAQT8E,G,kDACJ,aAAe,IAAD,8BACZ,gBAQF/C,qBAAuB,WACrB,EAAK7B,MAAM6E,kBAAkBF,KAVjB,EAadtC,sBAbc,uCAaU,WAAMyC,GAAN,SAAAC,EAAA,sDACtB,EAAK/E,MAAMgF,cAAc,CACvBC,OAAQ,EAAKjF,MAAMiF,OACnBH,YAAaA,EACbI,iBAAkB,EAAKC,MAAMD,mBAJT,2CAbV,wDAqBdvB,aArBc,uCAqBC,WAAMC,GAAN,iBAAAmB,EAAA,sEACSK,2BAAiBxB,GAD1B,cACPyB,EADO,gBAESC,oBAAUD,EAAQ,IAF3B,OAEPE,EAFO,OAGb,EAAKC,SACH,CACE5B,QAASA,IAEX,WACE,EAAK5D,MAAM6E,kBAAkBU,MARpB,2CArBD,wDAkCd7B,cAAgB,SAAA+B,GACd,EAAKD,SAAS,CACZ5B,QAAS6B,KAlCX,EAAKN,MAAQ,CACXD,iBAAkB,IAAIQ,OAAOC,OAAOC,KAAKC,kBACzCC,KAAM,GACNlC,QAAS,IALC,E,gEAyCZhC,KAAK5B,MAAM6E,kBAAkBjD,KAAK5B,MAAMiF,U,+BAGhC,IAAD,EACkDrD,KAAK5B,MAAvD+F,EADA,EACAA,QAASC,EADT,EACSA,cAAehE,EADxB,EACwBA,WAAYiE,EADpC,EACoCA,WAE3C,OADAC,QAAQC,IAAI,aAAcvE,KAAK5B,MAAMiG,YAEnC,yBACE7E,UAAU,cACVU,MAAO,CAACsE,OAAQ,EAAGC,SAAU,WAAYC,IAAK,IAE9C,kBAAC,YAAD,CACEC,OAAQ3E,KAAK5B,MAAMiF,OACnBuB,YAAa,GACbC,QAAS,CAACC,kBAAkB,IAE3BT,EAAa,kBAAC,qBAAD,CAAoBA,WAAYA,IAAiB,KAC9DF,EAAQ9D,KAAI,SAAC0E,EAAQC,GAAT,OACX,kBAAC,SAAD,CACEC,MAAOF,EAAOE,MACd5G,QAAS,kBAAM+F,EAAcW,IAC7BN,SAAUM,EAAON,SACjBjE,IAAKwE,EACLE,UAAWH,EAAOG,gBAIxB,kBAAC,GAAD,KACE,kBAAC,EAAD,CACEpD,cAAe9B,KAAK8B,cACpBC,aAAc/B,KAAK+B,aACnBC,QAAShC,KAAKuD,MAAMvB,UAGrBmC,EAAQgB,OAAS,GAA2B,IAAtB/E,EAAW+E,QAChC,kBAAC,EAAD,CAAUpE,SAAUoD,EAASlD,eAAgBmD,IAE9ChE,EAAW+E,OAAS,GACnB,kBAAC,EAAD,CACE/E,WAAYA,EACZH,qBAAsBD,KAAKC,qBAC3BQ,sBAAuBT,KAAKS,8B,GAnFvBI,aAgHJuE,gBApBS,SAAA7B,GAEtB,MAAO,CACLY,QAFgDZ,EAA3CY,QAGL/D,WAHgDmD,EAAlCnD,WAIdiE,WAJgDd,EAAtBc,WAK1BhB,OALgDE,EAAVF,WASf,SAAAgC,GACzB,MAAO,CACLpC,kBAAmB,SAAAY,GAAI,OACrBwB,EAAS,CAACC,KDvIsB,yBCuIQC,QAAS1B,KACnDO,cAAe,SAAAP,GAAI,OAAIwB,EAAS,CAACC,KDpIL,mBCoI6BC,QAAS1B,KAClE2B,cAAe,SAAA3B,GAAI,OAAIwB,EAAS,CAACC,KDlIP,iBCkI6BC,QAAS1B,KAChET,cAAe,SAAAS,GAAI,OAAIwB,EAAS,CAACC,KDjIL,mBCiI6BC,QAAS1B,QAIvDuB,CAGbK,uBAAaC,wBAAc1C,M,mBC5IvB2C,GAAe,CACnBxB,QAAS,GACT/D,WAAY,GACZiE,WAAY,GACZhB,OALoB,CAAClC,IAAK,WAAYC,IAAK,Q,iDCiBnCwE,K,YAsCAC,I,YAsBAC,I,YAwCAC,IA1GV,SAASC,GAAqB3C,GAC5B,OAAO4C,KAAMC,IAAN,UACFpD,EADE,0CACwCO,EAAOlC,IAD/C,gBAC0DkC,EAAOjC,IADjE,8DAKT,SAAUwE,GAAcO,GAAxB,iFAEmB,OAFnB,kBAEyBC,aAAKJ,GAAsBG,EAAOZ,SAF3D,UAI0B,OAFhBc,EAFV,QAIeC,OAJf,iBAOM,IAFInC,EAAU,GACVoC,EAAQF,EAAOxC,KAAK2C,OACfjG,EAAI,EAAGA,EAAIgG,EAAMpB,OAAQ5E,IAC5BkG,EAAW,CACbtF,IAAKoF,EAAMhG,GAAGmG,SACdtF,IAAKmF,EAAMhG,GAAGoG,WAEZ5B,EAAS,IAAIhB,OAAOC,KAAK4C,OAAO,CAClCnC,SAAUgC,EACVxB,MAAOsB,EAAMhG,GAAGsG,KAChB3F,MAAOqF,EAAMhG,GAAGsG,KAChBhD,KAAM0C,EAAMhG,GAAGuG,SACfC,UAAU,EACV5F,IAAKoF,EAAMhG,GAAGmG,SACdtF,IAAKmF,EAAMhG,GAAGoG,UACdzB,UAAW,EACX8B,KAAM,sBAER7C,EAAQ8C,KAAKlC,GAIf,OADAT,QAAQC,IAAI,iBA1BlB,UA2BY2C,aAAI,CACR5B,KHhDsC,iCGiDtCC,QAAS,CAACpB,UAASd,OAAQ8C,EAAOZ,WA7B1C,gCAkCI,OAlCJ,0BAiCIjB,QAAQC,IAAI,aAjChB,UAkCU2C,aAAI,CAAC5B,KHrD4B,gCGmB3C,uDAsCA,SAAUO,GAAgBM,GAA1B,2EAGmB,OAFXpB,EAASoB,EAAOZ,QADxB,kBAGyBU,KAAMC,IAAN,UAChBpD,EADgB,qBACKiC,EAAOlB,KADZ,uGAHzB,UAM0B,OAHhBwC,EAHV,QAMeC,OANf,gBAQM,OADMlG,EAAaiG,EAAOxC,KAAKzD,WAAW+G,IAPhD,SAQYD,aAAI,CACR5B,KH/DgC,2BGgEhCC,QAAS,CACPnF,aACA+D,QAAS,CAACY,GACV1B,OAAQ,CAAClC,IAAK4D,EAAO5D,IAAKC,IAAK2D,EAAO3D,QAbhD,+BAkBI,OAlBJ,oCAkBU8F,aAAI,CAAC5B,KHvEsB,0BGqDrC,uDAsBA,SAAUQ,GAAgBK,GAA1B,uFAGmB,OAHnB,EACkDA,EAAOZ,QAAhDjC,EADT,EACSA,iBAAkBD,EAD3B,EAC2BA,OAAQH,EADnC,EACmCA,YADnC,kBAGyB+C,KAAMC,IAAIhD,GAHnC,UAK0B,OAFhBmD,EAHV,QAKeC,OALf,iBASyB,OAHbC,EAAQF,EAAOxC,KAAK0C,MACpBa,EAAWb,EAAMA,EAAMpB,OAAS,GAChCkC,EAAc,CAAClG,IAAKiG,EAASV,SAAUtF,IAAKgG,EAAST,WARjE,UAS+B,IAAIW,SAAQ,SAAAC,GACnCjE,EAAiBkE,MACf,CACEnE,OAAQA,EACRgE,YAAaA,EACbI,WAAY1D,OAAOC,KAAK0D,WAAWC,QACnCC,eAAgB,CACdC,MAAO,CAAC9D,OAAOC,KAAK8D,YAAYC,KAChCC,kBAAmBjE,OAAOC,KAAKiE,uBAAuBC,gBAG1D,SAAC7B,EAAQC,GACHA,IAAWvC,OAAOC,KAAKmE,iBAAiBC,GAC1Cb,EAAQlB,GAERkB,EAAQ,UAxBtB,QA8BM,OArBMlD,EATZ,iBA8BY6C,aAAI,CACR5B,KHtGgC,2BGuGhCC,QAASlB,IAhCjB,0DAoCIC,QAAQC,IAAR,MApCJ,uDAwCA,SAAUwB,KAAV,iEACE,OADF,SACQsC,aH1H8B,yBG0HKzC,IAD3C,OAEE,OAFF,SAEQyC,aHvHwB,mBGuHKxC,IAFrC,OAGE,OAHF,SAGQwC,aHnHwB,mBGmHKvC,IAHrC,wCAMeC,UC7HTuC,GAAaC,eAEbC,GAAQC,cFQC,WAAwC,IAA/BlF,EAA8B,uDAAtBoC,GAAcQ,EAAQ,uCACpD,OAAQA,EAAOb,MACb,IFb0C,iCEa1C,MAC4Ba,EAAOZ,QAA1BlC,EADT,EACSA,OAAQc,EADjB,EACiBA,QACf,OAAOuE,OAAOC,OAAO,GAAIpF,EAAO,CAC9BY,QAASA,EACT/D,WAAY,GACZiE,WAAY,KACZhB,OAAQA,IAEZ,IFjBoC,2BEiBpC,IACSjD,EAAc+F,EAAOZ,QAArBnF,WACP,OAAOsI,OAAOC,OAAO,GAAIpF,EAAO,CAC9BnD,WAAYA,EACZ+D,QAASgC,EAAOZ,QAAQpB,QACxBd,OAAQ8C,EAAOZ,QAAQlC,SAE3B,IFtB0B,iBEuBxB,OAAOqF,OAAOC,OAAO,GAAIpF,EAAO,CAACnD,WAAY,KAC/C,IFrBoC,2BEsBlC,OAAOsI,OAAOC,OAAO,GAAIpF,EAAO,CAACc,WAAY8B,EAAOZ,UACtD,QACE,OAAOhC,KE9BsBqF,aAAgBN,KACnDA,GAAWO,IAAI9C,IACAyC,UCDTM,GAAOC,SAASC,eADP,QAEFC,GACX,yHAEIC,GAAiB,4BACjBC,GAAmB,uBAAKjJ,MAAO,CAACnB,OAAQ,WACxCqK,GAAa,uBAAKlJ,MAAO,CAACnB,OAAQ,WAEpC+J,IACFO,SACE,gBAAC,IAAD,CAAUb,MAAOA,IACf,uBAAKtI,MAAO,CAACnB,OAAQ,UACnB,gBAAC,GAAD,CACEmK,eAAgBA,GAChBC,iBAAkBA,GAClBF,aAAcA,GACdG,WAAYA,OAIlBN,M","file":"static/js/main.7655450a.chunk.js","sourcesContent":["module.exports = __webpack_public_path__ + \"static/media/bus.1484f0a2.svg\";","import React from 'react'\nimport styled from 'styled-components'\n\nconst StyledDiv = styled.div`\n  cursor: pointer;\n  border-bottom: 1px solid #eee;\n  padding: 10px;\n  &:hover {\n    background-color: #eee;\n  }\n\n  p {\n    margin: 0;\n  }\n`\n\nexport default function Card(props) {\n  return <StyledDiv onClick={props.onClick}>{props.children}</StyledDiv>\n}\n","const Colors = {\n  primaryColor: '#3F51B5',\n  black: '#000',\n  white: '#fff'\n}\n\nexport default Colors\n","import React from 'react'\nimport PropTypes from 'prop-types'\n\nconst Icon = ({iconName, fillColor, width, height}) => {\n  switch (iconName) {\n    case 'bus':\n      return (\n        <svg\n          xmlns='http://www.w3.org/2000/svg'\n          version='1.1'\n          id='Capa_1'\n          x='0px'\n          y='0px'\n          viewBox='0 0 405.333 405.333'\n          width={width}\n          height={height}\n        >\n          <g>\n            <g>\n              <g>\n                <path\n                  d='M202.667,0C108.373,0,32,10.667,32,85.333v213.333c0,18.88,8.32,35.627,21.333,47.36V384    c0,11.733,9.6,21.333,21.333,21.333H96c11.84,0,21.333-9.6,21.333-21.333v-21.333H288V384c0,11.733,9.493,21.333,21.333,21.333    h21.333c11.733,0,21.333-9.6,21.333-21.333v-37.973c13.013-11.733,21.333-28.48,21.333-47.36V85.333    C373.333,10.667,296.96,0,202.667,0z M106.667,320c-17.707,0-32-14.293-32-32s14.293-32,32-32s32,14.293,32,32    S124.373,320,106.667,320z M298.667,320c-17.707,0-32-14.293-32-32s14.293-32,32-32s32,14.293,32,32S316.373,320,298.667,320z     M330.667,192h-256V85.333h256V192z'\n                  data-original='#000000'\n                  className='active-path'\n                  data-old_color='#000000'\n                  fill={fillColor}\n                />\n              </g>\n            </g>\n          </g>\n        </svg>\n      )\n    case 'close':\n      return (\n        <svg\n          xmlns='http://www.w3.org/2000/svg'\n          height={height}\n          viewBox='0 0 365.696 365.696'\n          width={width}\n        >\n          <g>\n            <path\n              d='m243.1875 182.859375 113.132812-113.132813c12.5-12.5 12.5-32.765624 0-45.246093l-15.082031-15.082031c-12.503906-12.503907-32.769531-12.503907-45.25 0l-113.128906 113.128906-113.132813-113.152344c-12.5-12.5-32.765624-12.5-45.246093 0l-15.105469 15.082031c-12.5 12.503907-12.5 32.769531 0 45.25l113.152344 113.152344-113.128906 113.128906c-12.503907 12.503907-12.503907 32.769531 0 45.25l15.082031 15.082031c12.5 12.5 32.765625 12.5 45.246093 0l113.132813-113.132812 113.128906 113.132812c12.503907 12.5 32.769531 12.5 45.25 0l15.082031-15.082031c12.5-12.503906 12.5-32.769531 0-45.25zm0 0'\n              data-original='#000000'\n              class='active-path'\n              data-old_color='#000000'\n              fill={fillColor}\n            />\n          </g>{' '}\n        </svg>\n      )\n\n    case 'marker':\n      return (\n        <svg\n          xmlns='http://www.w3.org/2000/svg'\n          version='1.1'\n          id='Layer_1'\n          x='0px'\n          y='0px'\n          viewBox='0 0 512 512'\n          width={width}\n          height={height}\n        >\n          <g>\n            <g>\n              <g>\n                <path\n                  d='M256,0C153.755,0,70.573,83.182,70.573,185.426c0,126.888,165.939,313.167,173.004,321.035    c6.636,7.391,18.222,7.378,24.846,0c7.065-7.868,173.004-194.147,173.004-321.035C441.425,83.182,358.244,0,256,0z M256,278.719    c-51.442,0-93.292-41.851-93.292-93.293S204.559,92.134,256,92.134s93.291,41.851,93.291,93.293S307.441,278.719,256,278.719z'\n                  data-original='#000000'\n                  class='active-path'\n                  data-old_color='#000000'\n                  fill={fillColor}\n                />\n              </g>\n            </g>\n          </g>{' '}\n        </svg>\n      )\n\n    default:\n      return (\n        <svg\n          xmlns='http://www.w3.org/2000/svg'\n          height={height}\n          viewBox='0 0 365.696 365.696'\n          width={width}\n        >\n          <g>\n            <path\n              d='m243.1875 182.859375 113.132812-113.132813c12.5-12.5 12.5-32.765624 0-45.246093l-15.082031-15.082031c-12.503906-12.503907-32.769531-12.503907-45.25 0l-113.128906 113.128906-113.132813-113.152344c-12.5-12.5-32.765624-12.5-45.246093 0l-15.105469 15.082031c-12.5 12.503907-12.5 32.769531 0 45.25l113.152344 113.152344-113.128906 113.128906c-12.503907 12.503907-12.503907 32.769531 0 45.25l15.082031 15.082031c12.5 12.5 32.765625 12.5 45.246093 0l113.132813-113.132812 113.128906 113.132812c12.503907 12.5 32.769531 12.5 45.25 0l15.082031-15.082031c12.5-12.503906 12.5-32.769531 0-45.25zm0 0'\n              data-original='#000000'\n              class='active-path'\n              data-old_color='#000000'\n              fill={fillColor}\n            />\n          </g>{' '}\n        </svg>\n      )\n  }\n}\n\nIcon.propTypes = {\n  iconName: PropTypes.string,\n  fillColor: PropTypes.string,\n  width: PropTypes.string,\n  height: PropTypes.string\n}\n\nIcon.defaultProps = {\n  iconName: 'bus',\n  fillColor: '#3F50B5',\n  width: '50px',\n  height: '50px'\n}\n\nexport default Icon\n","import React, {Component} from 'react'\nimport styled from 'styled-components'\nimport PropTypes from 'prop-types'\nimport {Card} from '../../components'\nimport {Icon} from '../../constants'\n\nconst StyledDiv = styled.div`\n  background: white;\n  width: 400px;\n  box-sizing: border-box;\n  height: 80%;\n`\n\nconst StyledHeader = styled.div`\n  margin: 0px;\n  height: 50px;\n  border-bottom: 1px solid #333;\n  padding-left: 10px;\n  display: flex;\n  flex-direction: row;\n  justify-content: space-between;\n  align-items: center;\n  align-items: center;\n\n  h1 {\n    font-size: 1.5rem;\n    font-weight: bold;\n  }\n\n  button {\n    background: none;\n    border: none;\n  }\n`\n\nconst StyledListContainer = styled.div`\n  height: calc(100% - 50px);\n  overflow: scroll;\n`\n\nexport default class Departures extends Component {\n  static propTypes = {\n    departures: PropTypes.array,\n    onDestinationSelected: PropTypes.func,\n    onDepartureCancelled: PropTypes.func\n  }\n\n  render() {\n    return (\n      <StyledDiv>\n        <StyledHeader>\n          <h1>Departures</h1>\n          <button onClick={this.props.onDepartureCancelled}>\n            <Icon iconName={'close'} fillColor={'#000'} width='20px' />\n          </button>\n        </StyledHeader>\n        <StyledListContainer style={{height: '100%', overflow: 'scroll'}}>\n          {this.props.departures.map((departure, i) => {\n            return (\n              <Card\n                key={i}\n                onClick={() => {\n                  this.props.onDestinationSelected(departure.id)\n                }}\n              >\n                <p>{departure.direction}</p>\n                <p>Departure Time : {departure.best_departure_estimate}</p>\n                <p>Operator : {departure.operator}</p>\n              </Card>\n            )\n          })}\n        </StyledListContainer>\n      </StyledDiv>\n    )\n  }\n}\n","import React, {Component} from 'react'\nimport styled from 'styled-components'\nimport PropTypes from 'prop-types'\nimport {Card} from '../../components'\nconst StyledDiv = styled.div`\n  background: white;\n  width: 400px;\n  box-sizing: border-box;\n  height: 80%;\n`\n\nconst StyledHeader = styled.div`\n  margin: 0px;\n  height: 50px;\n  border-bottom: 1px solid #333;\n  padding-left: 10px;\n  display: flex;\n  align-items: center;\n\n  h1 {\n    font-size: 1.5rem;\n    font-weight: bold;\n  }\n`\n\nconst StyledListContainer = styled.div`\n  height: calc(100% - 50px);\n  overflow: scroll;\n`\n\nexport default class BusStops extends Component {\n  static propTypes = {\n    busStops: PropTypes.array,\n    onStopSelected: PropTypes.func\n  }\n\n  render() {\n    return (\n      <StyledDiv>\n        <StyledHeader>\n          <h1>Near By Bus Stops</h1>\n        </StyledHeader>\n        <StyledListContainer>\n          {this.props.busStops.map((stop, i) => {\n            return (\n              <Card key={i} onClick={() => this.props.onStopSelected(stop)}>\n                <p>{stop.label}</p>\n                <p>Lat : {stop.lat}</p>\n                <p>Lng : {stop.lng}</p>\n              </Card>\n            )\n          })}\n        </StyledListContainer>\n      </StyledDiv>\n    )\n  }\n}\n","import React, {Component} from 'react'\nimport PlacesAutoComplete from 'react-places-autocomplete'\nimport PropTypes from 'prop-types'\nimport Colors from '../../constants/colors'\nimport styled from 'styled-components'\n\nconst StyledDiv = styled.div`\n  color: #fff;\n  background-color: ${props => props.color};\n  padding: 10px;\n  height: 20%;\n`\n\nconst StyledSearchContainer = styled.div`\n  width: 100%;\n  display: flex;\n  flex-direction: row;\n`\n\nconst StyledDropdownContainer = styled.div`\n  position: absolute;\n  border: 1px solid #000;\n`\n\nconst StyledDropdown = styled.div`\n  border-bottom: 1px solid #333;\n  padding: 10px;\n  z-index: 10;\n`\n\nconst StyledH1 = styled.h1`\n  margin: 0;\n`\n\nconst StyledInput = styled.input`\n  width: 100%;\n  padding: 10px;\n  box-sizing: border-box;\n  margin-top: 10px;\n  font-size: 1.2rem;\n`\n\nexport default class Search extends Component {\n  static propTypes = {\n    onInputChange: PropTypes.func,\n    handleSelect: PropTypes.func,\n    address: PropTypes.string\n  }\n\n  render() {\n    const {onInputChange, handleSelect, address} = this.props\n\n    return (\n      <StyledDiv color={Colors.primaryColor}>\n        <StyledH1>Search Starting Point</StyledH1>\n\n        <PlacesAutoComplete\n          value={address}\n          onChange={onInputChange}\n          onSelect={handleSelect}\n        >\n          {({getInputProps, suggestions, getSuggestionItemProps, loading}) => (\n            <div>\n              <StyledSearchContainer>\n                <StyledInput\n                  {...getInputProps({\n                    placeholder: 'Search Places ...',\n                    className: 'location-search-input'\n                  })}\n                />\n              </StyledSearchContainer>\n              <StyledDropdownContainer className='autocomplete-dropdown-container'>\n                {loading && <div>Loading...</div>}\n                {suggestions.map((suggestion, i) => {\n                  const className = suggestion.active\n                    ? 'suggestion-item--active'\n                    : 'suggestion-item'\n                  // inline style for demonstration purpose\n                  const style = suggestion.active\n                    ? {\n                        backgroundColor: '#fafafa',\n                        color: Colors.black,\n                        cursor: 'pointer'\n                      }\n                    : {\n                        backgroundColor: '#ffffff',\n                        color: Colors.black,\n                        cursor: 'pointer'\n                      }\n                  return (\n                    <StyledDropdown\n                      key={i}\n                      {...getSuggestionItemProps(suggestion, {\n                        className,\n                        style\n                      })}\n                    >\n                      <span>{suggestion.description}</span>\n                    </StyledDropdown>\n                  )\n                })}\n              </StyledDropdownContainer>\n            </div>\n          )}\n        </PlacesAutoComplete>\n      </StyledDiv>\n    )\n  }\n}\n","export const TEST = 'Test'\nexport const BASE_URL = 'https://transportapi.com/v3/uk'\nexport const FETCH_NEARBY_BUS_STOPS = 'FETCH_NEARBY_BUS_STOPS'\nexport const FETCH_NEARBY_BUS_STOPS_SUCCESS = 'FETCH_NEARBY_BUS_STOPS_SUCCESS'\nexport const FETCH_NEARBY_BUS_STOPS_FAIL = 'FETCH_NEARBY_BUS_STOPS_FAIL'\n\nexport const FETCH_DEPARTURES = 'FETCH_DEPARTURES'\nexport const FETCH_DEPARTURES_SUCCESS = 'FETCH_DEPARTURES_SUCCESS'\nexport const FETCH_DEPARTURES_FAIL = 'FETCH_DEPARTURES_FAIL'\nexport const SET_DEPARTURES = 'SET_DEPARTURES'\n\nexport const FETCH_DIRECTIONS = 'FETCH_DIRECTIONS'\nexport const FETCH_DIRECTIONS_SUCCESS = 'FETCH_DIRECTIONS_SUCCESS'\nexport const FETCH_DIRECTIONS_FAIL = 'FETCH_DEPARTURES_FAIL'\n","import React, {Component} from 'react'\nimport {\n  GoogleMap,\n  DirectionsRenderer,\n  Marker,\n  withGoogleMap,\n  withScriptjs\n} from 'react-google-maps'\n\nimport {connect} from 'react-redux'\n\nimport Departures from './departures'\nimport BusStops from './stops'\nimport Search from './search'\nimport styled from 'styled-components'\nimport {geocodeByAddress, getLatLng} from 'react-places-autocomplete'\nimport {\n  FETCH_NEARBY_BUS_STOPS,\n  FETCH_DEPARTURES,\n  SET_DEPARTURES,\n  FETCH_DIRECTIONS\n} from '../../constants/strings'\nconst defaultOrigin = {lat: 51.5073509, lng: 0.1123}\n\nconst StyledDiv = styled.div`\n  position: absolute;\n  background: white;\n  width: 400px;\n  height: 100vh;\n  display: flex;\n  flex-direction: column;\n`\nclass Home extends Component {\n  constructor() {\n    super()\n    this.state = {\n      directionService: new window.google.maps.DirectionsService(),\n      zoom: 15,\n      address: ''\n    }\n  }\n\n  onDepartureCancelled = () => {\n    this.props.getNearbyBusStops(defaultOrigin)\n  }\n\n  onDestinationSelected = async urlForRoute => {\n    this.props.getDirections({\n      origin: this.props.origin,\n      urlForRoute: urlForRoute,\n      directionService: this.state.directionService\n    })\n  }\n\n  handleSelect = async address => {\n    const results = await geocodeByAddress(address)\n    const latLang = await getLatLng(results[0])\n    this.setState(\n      {\n        address: address\n      },\n      () => {\n        this.props.getNearbyBusStops(latLang)\n      }\n    )\n  }\n\n  onInputChange = data => {\n    this.setState({\n      address: data\n    })\n  }\n\n  componentDidMount() {\n    this.props.getNearbyBusStops(this.props.origin)\n  }\n\n  render() {\n    const {markers, getDepartures, departures, directions} = this.props\n    console.log('directions', this.props.directions)\n    return (\n      <div\n        className='MapsWrapper'\n        style={{margin: 0, position: 'absolute', top: 0}}\n      >\n        <GoogleMap\n          center={this.props.origin}\n          defaultZoom={16}\n          options={{disableDefaultUI: true}}\n        >\n          {directions ? <DirectionsRenderer directions={directions} /> : null}\n          {markers.map((marker, index) => (\n            <Marker\n              title={marker.title}\n              onClick={() => getDepartures(marker)}\n              position={marker.position}\n              key={index}\n              animation={marker.animation}\n            />\n          ))}\n        </GoogleMap>\n        <StyledDiv>\n          <Search\n            onInputChange={this.onInputChange}\n            handleSelect={this.handleSelect}\n            address={this.state.address}\n          />\n\n          {markers.length > 0 && departures.length === 0 && (\n            <BusStops busStops={markers} onStopSelected={getDepartures} />\n          )}\n          {departures.length > 0 && (\n            <Departures\n              departures={departures}\n              onDepartureCancelled={this.onDepartureCancelled}\n              onDestinationSelected={this.onDestinationSelected}\n            />\n          )}\n        </StyledDiv>\n      </div>\n    )\n  }\n}\n\nconst mapStateToProps = state => {\n  const {markers, departures, directions, origin} = state\n  return {\n    markers: markers,\n    departures: departures,\n    directions: directions,\n    origin\n  }\n}\n\nconst mapDispatchToProps = dispatch => {\n  return {\n    getNearbyBusStops: data =>\n      dispatch({type: FETCH_NEARBY_BUS_STOPS, payload: data}),\n    getDepartures: data => dispatch({type: FETCH_DEPARTURES, payload: data}),\n    setDepartures: data => dispatch({type: SET_DEPARTURES, payload: data}),\n    getDirections: data => dispatch({type: FETCH_DIRECTIONS, payload: data})\n  }\n}\n\nexport default connect(\n  mapStateToProps,\n  mapDispatchToProps\n)(withScriptjs(withGoogleMap(Home)))\n","import {\n  FETCH_NEARBY_BUS_STOPS_SUCCESS,\n  FETCH_DEPARTURES_SUCCESS,\n  SET_DEPARTURES,\n  FETCH_DIRECTIONS_SUCCESS\n} from '../constants/strings'\nconst defaultOrigin = {lat: 51.5073509, lng: 0.1123}\nconst initialState = {\n  markers: [],\n  departures: [],\n  directions: [],\n  origin: defaultOrigin\n}\n\nexport default function(state = initialState, action) {\n  switch (action.type) {\n    case FETCH_NEARBY_BUS_STOPS_SUCCESS:\n      const {origin, markers} = action.payload\n      return Object.assign({}, state, {\n        markers: markers,\n        departures: [],\n        directions: null,\n        origin: origin\n      })\n    case FETCH_DEPARTURES_SUCCESS:\n      const {departures} = action.payload\n      return Object.assign({}, state, {\n        departures: departures,\n        markers: action.payload.markers,\n        origin: action.payload.origin\n      })\n    case SET_DEPARTURES:\n      return Object.assign({}, state, {departures: []})\n    case FETCH_DIRECTIONS_SUCCESS:\n      return Object.assign({}, state, {directions: action.payload})\n    default:\n      return state\n  }\n}\n","/*global google*/\nimport {takeLatest, call, put} from 'redux-saga/effects'\nimport axios from 'axios'\nimport {\n  BASE_URL,\n  FETCH_NEARBY_BUS_STOPS,\n  FETCH_NEARBY_BUS_STOPS_SUCCESS,\n  FETCH_NEARBY_BUS_STOPS_FAIL,\n  FETCH_DEPARTURES,\n  FETCH_DEPARTURES_SUCCESS,\n  FETCH_DEPARTURES_FAIL,\n  FETCH_DIRECTIONS,\n  FETCH_DIRECTIONS_SUCCESS\n} from '../constants/strings'\n\nimport bus from '../images/bus.svg'\n\nfunction fetchBusStopsApiCall(origin) {\n  return axios.get(\n    `${BASE_URL}/places.json?type=bus_stop&lat=${origin.lat}&lon=${origin.lng}&app_key=c96bd60a6078bb1f13227063d1529bed&app_id=0fade918`\n  )\n}\n\nfunction* fetchBusStops(action) {\n  try {\n    const result = yield call(fetchBusStopsApiCall, action.payload)\n\n    if (result.status === 200) {\n      let markers = []\n      var stops = result.data.member\n      for (var i = 0; i < stops.length; i++) {\n        var location = {\n          lat: stops[i].latitude,\n          lng: stops[i].longitude\n        }\n        var marker = new google.maps.Marker({\n          position: location,\n          title: stops[i].name,\n          label: stops[i].name,\n          data: stops[i].atcocode,\n          selected: false,\n          lat: stops[i].latitude,\n          lng: stops[i].longitude,\n          animation: 2,\n          icon: '../images/bus.png'\n        })\n        markers.push(marker)\n      }\n\n      console.log('Saga successs')\n      yield put({\n        type: FETCH_NEARBY_BUS_STOPS_SUCCESS,\n        payload: {markers, origin: action.payload}\n      })\n    }\n  } catch (e) {\n    console.log('Saga fail')\n    yield put({type: FETCH_NEARBY_BUS_STOPS_FAIL})\n  }\n}\n\nfunction* fetchDepartures(action) {\n  const marker = action.payload\n  try {\n    const result = yield axios.get(\n      `${BASE_URL}/bus/stop/${marker.data}/live.json?app_key=c96bd60a6078bb1f13227063d1529bed&app_id=0fade918&limit=20&nextbuses=no&group=no`\n    )\n    if (result.status === 200) {\n      const departures = result.data.departures.all\n      yield put({\n        type: FETCH_DEPARTURES_SUCCESS,\n        payload: {\n          departures,\n          markers: [marker],\n          origin: {lat: marker.lat, lng: marker.lng}\n        }\n      })\n    }\n  } catch (e) {\n    yield put({type: FETCH_DEPARTURES_FAIL})\n  }\n}\n\nfunction* fetchDirections(action) {\n  const {directionService, origin, urlForRoute} = action.payload\n  try {\n    const result = yield axios.get(urlForRoute)\n\n    if (result.status === 200) {\n      const stops = result.data.stops\n      const lastStop = stops[stops.length - 1]\n      const destination = {lat: lastStop.latitude, lng: lastStop.longitude}\n      const directions = yield new Promise(resolve => {\n        directionService.route(\n          {\n            origin: origin,\n            destination: destination,\n            travelMode: google.maps.TravelMode.TRANSIT,\n            transitOptions: {\n              modes: [google.maps.TransitMode.BUS],\n              routingPreference: google.maps.TransitRoutePreference.LESS_WALKING\n            }\n          },\n          (result, status) => {\n            if (status === google.maps.DirectionsStatus.OK) {\n              resolve(result)\n            } else {\n              resolve([])\n            }\n          }\n        )\n      })\n\n      yield put({\n        type: FETCH_DIRECTIONS_SUCCESS,\n        payload: directions\n      })\n    }\n  } catch (e) {\n    console.log(e)\n  }\n}\n\nfunction* mySaga() {\n  yield takeLatest(FETCH_NEARBY_BUS_STOPS, fetchBusStops)\n  yield takeLatest(FETCH_DEPARTURES, fetchDepartures)\n  yield takeLatest(FETCH_DIRECTIONS, fetchDirections)\n}\n\nexport default mySaga\n","import {createStore, applyMiddleware} from 'redux'\nimport createSagaMiddleware from 'redux-saga'\nimport reducer from '../reducer'\nimport mySaga from '../saga'\nconst middleware = createSagaMiddleware()\n\nconst store = createStore(reducer, applyMiddleware(middleware))\nmiddleware.run(mySaga)\nexport default store\n","import * as React from 'react'\nimport * as ReactDOM from 'react-dom'\nimport Home from './src/container/Home'\nimport store from './src/store'\nimport {Provider} from 'react-redux'\n\nconst rootId = 'root'\nconst root = document.getElementById(rootId)\nexport const googleMapURL =\n  'https://maps.googleapis.com/maps/api/js?v=3.exp&key=AIzaSyCK8olcHBnrwuIihenuSqP5wNQdmKuJ7VI&libraries=places&region=UK'\n\nconst loadingElement = <div />\nconst containerElement = <div style={{height: '100vh'}} />\nconst mapElement = <div style={{height: '100vh'}} />\n\nif (root) {\n  ReactDOM.render(\n    <Provider store={store}>\n      <div style={{height: '100vh'}}>\n        <Home\n          loadingElement={loadingElement}\n          containerElement={containerElement}\n          googleMapURL={googleMapURL}\n          mapElement={mapElement}\n        />\n      </div>\n    </Provider>,\n    root\n  )\n}\n"],"sourceRoot":""}